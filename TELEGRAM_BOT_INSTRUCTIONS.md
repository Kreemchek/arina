# ü§ñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É Telegram-–±–æ—Ç–∞

–í–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞: `8232747700:AAGIphSHtyMAv7xdQTnmq927YCqNoofB4fY`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Backend –∑–∞–ø—É—â–µ–Ω

```bash
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
cd backend
npm run dev

# Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3001
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
cd bot
npm run dev
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
ü§ñ Telegram-–±–æ—Ç –∑–∞–ø—É—â–µ–Ω!
üì± –ë–æ—Ç –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
```

### 3. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫
3. –ù–∞–∂–º–∏—Ç–µ **Start** –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

## üí¨ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- `/start` - –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/help` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã

### –§—É–Ω–∫—Ü–∏–∏
- `/habits` - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏ –∏ –æ—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ
- `/goals` - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ü–µ–ª–∏
- `/mood` - –∑–∞–ø–∏—Å–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
- `/today` - –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏
–ü–æ—Å–ª–µ `/start` –ø–æ—è–≤–∏—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
- üìù –ü—Ä–∏–≤—ã—á–∫–∏
- üéØ –¶–µ–ª–∏
- üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚ÑπÔ∏è –ü–æ–º–æ—â—å

## üîó –°–≤—è–∑–∫–∞ –±–æ—Ç–∞ —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –°–µ–π—á–∞—Å –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å–≤—è–∑–∫–∏ (–¥–ª—è MVP).

### –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

–í —Ä–µ–∞–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º —Å–≤—è–∑–∫–∏:

1. **–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ Telegram ID**
   - –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à Telegram ID
   - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç –∞–∫–∫–∞—É–Ω—Ç

2. **–í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–¥ —Å–≤—è–∑–∫–∏**
   - –í –ø—Ä–æ—Ñ–∏–ª–µ –Ω–∞ —Å–∞–π—Ç–µ —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–¥ —Å–≤—è–∑–∫–∏
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥–æ–π `/connect CODE`

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

–°–µ–π—á–∞—Å –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ (http://localhost:3000)
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –í –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```javascript
   localStorage.getItem('token')
   ```
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω
5. –í –∫–æ–¥–µ `bot/src/api.js` –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `global.userSessions`

**–î–ª—è production –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å–≤—è–∑–∫–∏!**

## üîî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- üåÖ **9:00** - —É—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–∏–≤—ã—á–∫–∞—Ö
- üåô **21:00** - –≤–µ—á–µ—Ä–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞–ø–∏—Å–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `bot/src/bot.js`:

```javascript
// –£—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è - –∏–∑–º–µ–Ω–∏—Ç–µ –≤—Ä–µ–º—è
cron.schedule('0 9 * * *', async () => {  // 9:00
  await notifications.sendDailyReminders(bot);
});

// –í–µ—á–µ—Ä–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
cron.schedule('0 21 * * *', async () => {  // 21:00
  await notifications.sendEveningReminders(bot);
});

// –§–æ—Ä–º–∞—Ç: –º–∏–Ω—É—Ç—ã —á–∞—Å—ã –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏
// –ü—Ä–∏–º–µ—Ä—ã:
// '0 8 * * *'   - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 8:00
// '30 20 * * *' - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 20:30
// '0 12 * * 1'  - –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 12:00
```

## üåê –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –≤ production

### –í–∞—Ä–∏–∞–Ω—Ç 1: Railway

```bash
cd bot
railway login
railway init
railway up

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway Dashboard:
# TELEGRAM_BOT_TOKEN
# API_URL
# NODE_ENV=production
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Render

1. –°–æ–∑–¥–∞–π—Ç–µ Web Service –Ω–∞ render.com
2. Root Directory: `bot`
3. Build: `npm install`
4. Start: `npm start`
5. –î–æ–±–∞–≤—å—Ç–µ Environment Variables

### –í–∞—Ä–∏–∞–Ω—Ç 3: Heroku

```bash
cd bot
heroku create assistant-bot
heroku config:set TELEGRAM_BOT_TOKEN="8232747700:AAGIphSHtyMAv7xdQTnmq927YCqNoofB4fY"
heroku config:set API_URL="https://your-backend.com/api"
git push heroku main
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: VPS

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd bot
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2
npm install -g pm2

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
pm2 start src/bot.js --name assistant-bot
pm2 save
pm2 startup

# –õ–æ–≥–∏
pm2 logs assistant-bot
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook (–¥–ª—è production)

Webhook —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ polling –¥–ª—è production:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –±–æ—Ç–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `bot/src/bot.js`:

```javascript
const express = require('express');
const app = express();

if (process.env.NODE_ENV === 'production' && process.env.WEBHOOK_DOMAIN) {
  // Webhook mode
  const webhookPath = `/webhook/${BOT_TOKEN}`;
  const webhookUrl = `${process.env.WEBHOOK_DOMAIN}${webhookPath}`;
  
  bot.telegram.setWebhook(webhookUrl);
  app.use(bot.webhookCallback(webhookPath));
  
  app.get('/', (req, res) => res.send('Bot is running'));
  
  const PORT = process.env.PORT || 3002;
  app.listen(PORT, () => {
    console.log(`ü§ñ Bot webhook running on port ${PORT}`);
    console.log(`üì° Webhook URL: ${webhookUrl}`);
  });
} else {
  // Polling mode
  bot.launch();
}
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
WEBHOOK_DOMAIN="https://your-bot-domain.com"
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥
```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –≤ Telegram:
/start
/help
/habits
/mood
/stats
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "üìù –ü—Ä–∏–≤—ã—á–∫–∏"
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–í—ã–ø–æ–ª–Ω–∏—Ç—å"

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
–î–ª—è —Ç–µ—Å—Ç–∞ –∏–∑–º–µ–Ω–∏—Ç–µ –≤—Ä–µ–º—è –≤ cron –Ω–∞ –±–ª–∏–∂–∞–π—à—É—é –º–∏–Ω—É—Ç—É:
```javascript
// –í–º–µ—Å—Ç–æ '0 9 * * *' –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ
cron.schedule('*/1 * * * *', async () => { // –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
  await notifications.sendDailyReminders(bot);
});
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–∞

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
```bash
# –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ npm
# –õ–æ–≥–∏ –±—É–¥—É—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

# –ï—Å–ª–∏ —á–µ—Ä–µ–∑ PM2
pm2 logs assistant-bot
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# –ü–æ–ª—É—á–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ
curl https://api.telegram.org/bot8232747700:AAGIphSHtyMAv7xdQTnmq927YCqNoofB4fY/getMe
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ .env
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞

### "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API"
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API_URL –≤ .env
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ backend

### "–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É"
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–∫—É –∞–∫–∫–∞—É–Ω—Ç–∞
- –î–ª—è —Ç–µ—Å—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ —Å–µ—Å—Å–∏—é –≤ –∫–æ–¥

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cron
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ userSessions

## üéØ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É

1. –í `bot/src/handlers.js`:
```javascript
async function handleNewCommand(ctx) {
  await ctx.reply('–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è!');
}

module.exports = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  handleNewCommand,
};
```

2. –í `bot/src/bot.js`:
```javascript
const { handleNewCommand } = require('./handlers');
bot.command('newcmd', handleNewCommand);
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

–í `bot/src/notifications.js`:
```javascript
async function sendCustomReminder(bot) {
  const users = Object.entries(global.userSessions);
  
  for (const [telegramId, session] of users) {
    await bot.telegram.sendMessage(
      telegramId,
      '–í–∞—à–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ!'
    );
  }
}

module.exports = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  sendCustomReminder,
};
```

–í `bot/src/bot.js`:
```javascript
// –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 15:00
cron.schedule('0 15 * * *', async () => {
  await notifications.sendCustomReminder(bot);
});
```

## ‚úÖ Checklist –¥–ª—è production

- [ ] Backend –∑–∞–¥–µ–ø–ª–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ë–æ—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–∏—Å–µ 24/7
- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –°–∏—Å—Ç–µ–º–∞ —Å–≤—è–∑–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Backup –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

**–í–∞—à –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** ü§ñüíï

–¢–æ–∫–µ–Ω: `8232747700:AAGIphSHtyMAv7xdQTnmq927YCqNoofB4fY`

